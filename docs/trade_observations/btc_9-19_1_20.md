Ok, you keep cancelling my long orders. that is not cool. and when we are in retracement or recovery phase we don't need to constantly adjust the stops. 
We only need to trail when the are in the the advance or decline phase. 
if there is an order at current +1 you never need to cancel that order. in fact the only time you ever need to cancel a buy order is if you added a new buy order at current_unit +1 AND that makes it so there are 5 buy orders, then and only then, would you cancel the buy at current_unit +5. wich is the furthest from the current price and the safest to cancel. 

Trade log:
backend\logs\hypertrader_long_20250919_131927.log

## Screenshots Analysis

### Screenshot 1 (13:20:33) - Initial State
![Initial State](c:\Users\trini\Pictures\Screenshots\Screenshot 2025-09-19 132033.png)
- Shows 3 stop limit orders at $115,348, $115,323, $115,298
- Position size: 0.08627 BTC
- Orders appear clustered incorrectly

### Screenshot 2 (13:21:15) - Orders Being Triggered
![Orders Being Triggered](c:\Users\trini\Pictures\Screenshots\Screenshot 2025-09-19 132115.png)
- Multiple stop orders visible
- Price around $115,348
- Shows 4 "Close Long" stop orders triggered
- Position still at 0.08627 BTC
- Orders at: $115,348, $115,329, $115,298, $115,273, $115,248

### Screenshot 3 (13:21:53) - Mixed State Issue
![Mixed State Issue](c:\Users\trini\Pictures\Screenshots\Screenshot 2025-09-19 132153.png)
- Position reduced to 0.06854 BTC (~$9,981)
- Only 2 stop orders visible
- No buy orders present (should have buy at current+1)
- PNL: -$3.20 (-1.3%)

### Screenshot 4 (13:22:12) - Multiple Triggered Orders
![Multiple Triggered Orders](c:\Users\trini\Pictures\Screenshots\Screenshot 2025-09-19 132212.png)
- Shows 5 stop limit orders in order history
- One marked as "Triggered"
- Others still "Open" but reduce only = Yes
- Position at 0.08634 BTC

### Screenshot 5 (13:24:28) - More Orders Accumulating
![More Orders Accumulating](c:\Users\trini\Pictures\Screenshots\Screenshot 2025-09-19 132428.png)
- 4 stop limit orders visible
- All marked "Close Long" with Reduce Only = No
- Orders at $115,373, $115,323, $115,298, $115,273
- Position size unchanged

### Screenshot 6 (13:35:30) - System Completely Off Track
![System Off Track](c:\Users\trini\Pictures\Screenshots\Screenshot 2025-09-19 133530.png)
- Position reduced to tiny 0.04336 BTC (~$5,000)
- Only 4 stop orders, NO buy orders
- Orders at wrong prices: $115,398, $115,373, $115,348, $115,323
- Lost -$2.17 (-1.7%)
- System has lost track of position state

## Critical Issues Identified

1. **Buy orders being cancelled** - System cancels buy orders that should remain, especially at current_unit+1
2. **Orders adjusting during mixed states** - System adjusts orders during retracement/recovery when it should freeze
3. **Position tracking lost** - System doesn't know how much position vs cash it has
4. **No buy orders for re-entry** - After stops hit, no buy orders placed for recovery
5. **Order accumulation** - Multiple triggered but unfilled orders accumulating

## Expected Behavior (From User Notes)

**Order Cancellation Rules:**
- NEVER cancel buy at current_unit + 1
- Only cancel buy orders when adding new one would create 5+
- When cancelling, always cancel furthest (highest unit number)

**Phase-Based Trailing:**
- ADVANCE (4 stops, 0 buys): Trail stops UP
- DECLINE (0 stops, 4 buys): Trail buys DOWN
- RETRACEMENT/RECOVERY: FREEZE - no adjustments

**Position Management:**
- Track percentage in position vs cash
- Each order ~25% of total value
- Maintain exactly 4 orders based on position state